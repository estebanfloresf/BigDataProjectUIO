
<!DOCTYPE html>
<html>
  <head>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  
    <script src="https://www.google.com/jsapi"></script>

    
    <script>
        var public_key = 'dZ4EVmE8yGCRGx5XRX1W';
        var jsonData = $.ajax({
          url: 'http://localhost:5984/tweet/_all_docs/?&include_docs=true',
          data: {page: 1},
          dataType: 'json'
        }).done(function (results) {
	     var count=results.total_rows;
         
          for(var i=0;i<count; i++){
          	
          	var user=results.rows[i].doc.user.screen_name;
            var name=results.rows[i].doc.user.name;
          	var texttweet=results.rows[i].doc.text;
            var fecha=results.rows[i].doc.created_at;
            var foto=results.rows[i].doc.user.profile_image_url_https;
            var gps=results.rows[i].doc.user.geo_enabled;
           // var fondo=results.rows[i].doc.user.profile_background_image_url_https;
            
			console.log(user);
			console.log(texttweet);
			
			document.getElementById("tweet").innerHTML += "<tr>"+

                                                        "<td><img src="+foto+"></td>"+
                                                        "<td>"+user+"<br>"+name+"</td>"+
                                                        "<td>"+texttweet+"</td>"+
                                                        "<td>"+fecha+"</td>"+
                                                        
                                                    "</tr>";			
	      }
      });
    </script>
      <script language="JavaScript">
            $('td', 'table').each(function(i) {
                $(this).text(i+1);
            });

            $('table.paginated').each(function() {
                var currentPage = 0;
                var numPerPage = 10;
                var $table = $(this);
                $table.bind('repaginate', function() {
                    $table.find('tbody tr').hide().slice(currentPage * numPerPage, (currentPage + 1) * numPerPage).show();
                });
                $table.trigger('repaginate');
                var numRows = $table.find('tbody tr').length;
                var numPages = Math.ceil(numRows / numPerPage);
                var $pager = $('<div class="pager"></div>');
                for (var page = 0; page < numPages; page++) {
                    $('<span class="page-number"></span>').text(page + 1).bind('click', {
                        newPage: page
                    }, function(event) {
                        currentPage = event.data['newPage'];
                        $table.trigger('repaginate');
                        $(this).addClass('active').siblings().removeClass('active');
                    }).appendTo($pager).addClass('clickable');
                }
                $pager.insertBefore($table).find('span.page-number:first').addClass('active');
            });
      </script>

  </head>
  <body>
    
    

<div class="container">
    <div class="panel panel-default">
      <!-- Default panel contents -->
          <div class="panel-heading">Tweets de Accidentes de Transito</div>
            <table class="table table-striped table-condensed paginated" >
            <thead>
              <tr>
                <th>Foto</th>
                <th>Usuario</th>
                <th>Tweet</th>
                <th>Fecha</th>

              </tr>
            <tbody id="tweet">
            </tbody>
          </table>
          </div>
    </div>


</div>

  </body>
</html>

